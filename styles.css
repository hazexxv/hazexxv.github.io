:root{--cell-size:min(calc(100vw/27),calc(100vh/13));--bg:transparent;--fg:#fff;--accent:#222;--accent-dark:rgba(0,0,0,0.45);--accent-light:#444;--subtle-rain-1:#444;--subtle-rain-2:#666;--card-size:120px;--glass-border:rgba(255,255,255,0.05)}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--fg);background:var(--bg);overflow:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
#bg-canvas{position:fixed;inset:0;z-index:0;pointer-events:none}
#sidebar{position:fixed;top:12px;left:12px;height:calc(100vh - 24px);width:64px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:14px;box-shadow:0 8px 30px rgba(0,0,0,0.6);backdrop-filter:blur(8px) saturate(120%);-webkit-backdrop-filter:blur(8px) saturate(120%);transition:width .22s,left .22s;overflow:hidden;z-index:40;border:1px solid var(--glass-border);display:flex;flex-direction:column;align-items:center;padding:12px 8px}
#sidebar:hover{width:220px;left:12px}
.tab{width:100%;display:flex;align-items:center;gap:12px;padding:8px;margin:6px 0;cursor:pointer;border-radius:10px;transition:background .14s,transform .12s;color:var(--fg)}
.tab:focus{outline:2px solid rgba(255,255,255,0.06);outline-offset:2px}
.tab:hover{background:rgba(255,255,255,0.02);transform:translateX(4px)}
.tab img{width:22px;height:22px;filter:invert(1) grayscale(1) contrast(0.9);flex-shrink:0}
.tab span{opacity:0;white-space:nowrap;transition:opacity .18s,transform .18s;transform:translateX(-6px);font-weight:700;color:var(--fg);letter-spacing:.2px}
#sidebar:hover .tab span{opacity:1;transform:none}
#content{margin-left:84px;padding:28px;min-height:100vh;position:relative;z-index:10;overflow:auto}
section{display:none}
section#home{display:block;text-align:center}
.update-log{display:inline-block;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid var(--glass-border);padding:12px 14px;border-radius:10px;color:var(--fg);box-shadow:0 6px 20px rgba(0,0,0,0.45)}
.site-title{font-size:3.2rem;margin:12px 0;font-weight:800}
.tagline-wrap{height:40px;display:flex;align-items:center;justify-content:center;overflow:hidden}
#tagline{transition:opacity .25s;font-size:1.05rem;opacity:1}
.controls-row{display:flex;gap:12px;align-items:center;margin-bottom:12px}
.search{flex:1;padding:8px 12px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid var(--glass-border);color:var(--fg);backdrop-filter:blur(4px)}
.count{min-width:48px;padding:8px 10px;border-radius:10px;text-align:center;background:transparent;border:1px solid var(--glass-border);color:var(--fg)}
.list-wrap{padding:8px 0;overflow:auto}
.list{display:flex;flex-wrap:wrap;gap:16px;padding:0;margin:0;list-style:none}
.item{width:var(--card-size);height:var(--card-size);display:flex;align-items:center;justify-content:center;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.10));border:1px solid rgba(255,255,255,0.02);cursor:pointer;overflow:hidden;position:relative;transition:transform .12s,box-shadow .12s,border-color .12s;box-shadow:0 6px 18px rgba(0,0,0,0.45);text-align:center}
.item:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(0,0,0,0.55);border-color:rgba(255,255,255,0.04)}
.item .label{padding:8px 10px;font-weight:700;color:var(--fg);pointer-events:none;word-break:break-word}
.item .badge{position:absolute;top:8px;right:8px;padding:4px 8px;border-radius:999px;font-size:11px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.03)}
#settings{display:flex;gap:18px;align-items:flex-start}
#settings-left{width:240px;display:flex;flex-direction:column;gap:10px}
.settings-nav{background:transparent;border:1px solid rgba(255,255,255,0.02);padding:12px;border-radius:10px;color:var(--fg);cursor:pointer;text-align:left;font-weight:700}
.settings-nav.active{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));box-shadow:0 6px 18px rgba(0,0,0,0.35)}
#settings-right{flex:1}
.settings-panel.hidden{display:none}
.panel-card{background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.12));padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);box-shadow:0 8px 24px rgba(0,0,0,0.45)}
.panel-title{font-size:1.15rem;margin-bottom:8px;font-weight:800;color:var(--fg)}
.panel-sub{color:rgba(255,255,255,0.85);margin-bottom:10px}
.panel-lines{font-size:.95rem;color:rgba(255,255,255,0.85)}
.panel-block{margin:12px 0;padding:12px;background:transparent;border-radius:10px}
.panel-block-title{font-weight:700;margin-bottom:8px}
.btn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--fg);cursor:pointer}
.btn.full{width:100%;display:block}
#app-ui{position:fixed;inset:0;z-index:120;display:flex;align-items:stretch;background:rgba(0,0,0,0.92);backdrop-filter:blur(6px);overflow:hidden}
.hidden{display:none !important}
.app-ui-side{width:84px;padding:16px;display:flex;flex-direction:column;gap:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-right:1px solid rgba(255,255,255,0.03)}
.app-ui-main{flex:1;display:flex;align-items:stretch;justify-content:center;padding:18px}
#app-ui-frame{flex:1;border-radius:10px;border:none;height:100%;width:100%;background:#fff;overflow:auto}
#embed-container{position:fixed;inset:0;background:rgba(0,0,0,0.55);z-index:60;display:flex;align-items:stretch}
#embed-container.hidden{display:none}
.embed-sidebar{width:72px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:10px;align-items:center;border:1px solid var(--glass-border)}
.embed-sidebar button{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--fg);cursor:pointer}
.embed-actions{position:fixed;top:36px;left:110px;display:flex;gap:8px;z-index:70}
.embed-action-btn{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--fg);cursor:pointer}
#embed-frame{flex:1;border:none;height:calc(100vh - 84px);width:calc(100% - 120px);border-radius:10px;overflow:auto}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:100}
.modal.hidden{display:none}
.modal-inner{background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.10));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.02);width:min(900px,90vw)}
.modal-header{font-weight:800;margin-bottom:12px}
.theme-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.theme-tile{padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;display:flex;flex-direction:column;gap:8px;align-items:flex-start}
.theme-name{font-weight:700}
.theme-swatch{height:24px;width:100%;border-radius:6px;border:1px solid rgba(255,255,255,0.03)}
.subtle-rain{background:linear-gradient(90deg,var(--subtle-rain-1),var(--subtle-rain-2));-webkit-background-clip:text;color:transparent;opacity:.95}
.list-wrap,.list,#content,#settings-right,.settings-panel,.panel-card{overflow:auto;-webkit-overflow-scrolling:touch}
#embed-frame,#app-ui-frame{overflow:auto}
@media (max-width:1200px){:root{--card-size:100px}#sidebar{left:8px}}
@media (max-width:900px){:root{--card-size:90px}#sidebar{width:56px}#sidebar:hover{width:160px}}
@media (max-width:600px){:root{--card-size:80px}#content{padding:18px}#sidebar{display:flex;left:8px;top:8px;width:56px}}
